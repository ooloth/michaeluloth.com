{"id":"META-02m","title":"Add skip link for keyboard navigation","description":"Add a \"Skip to main content\" link at the top of the page that becomes visible on focus. Standard accessibility requirement for keyboard users to bypass navigation. Add to app/layout.tsx or app/(prose)/layout.tsx.","design":"```tsx\n// In app/(prose)/layout.tsx, add as first child of the container:\n\u003ca href=\"#main\" className=\"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-accent focus:text-black focus:rounded\"\u003e\n  Skip to main content\n\u003c/a\u003e\n\n// Add id=\"main\" to \u003cmain\u003e elements in page components\n```","acceptance_criteria":"- Skip link is first focusable element in DOM\n- Hidden by default (sr-only)\n- Becomes visible on focus\n- Links to #main which exists on main element\n- Keyboard users can tab to it and skip to main content","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:12:16.351028-05:00","updated_at":"2025-12-21T14:43:54.967605-05:00","closed_at":"2025-12-21T14:43:54.967605-05:00","close_reason":"Added skip link to prose layout and id=\"main\" to all main elements. Keyboard users can now skip directly to main content.","dependencies":[{"issue_id":"META-02m","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.604904-05:00","created_by":"daemon"}]}
{"id":"META-160","title":"Add vitest-axe for automated a11y testing","description":"Install vitest-axe and add a11y checks to component tests. Setup: add matchers to vitest.setup.ts, add toHaveNoViolations() assertions to key page tests. This provides automated catching of ARIA issues, heading hierarchy problems, etc.","design":"```bash\nnpm install -D vitest-axe\n```\n\n```ts\n// vitest.setup.ts - add:\nimport * as matchers from 'vitest-axe/matchers'\nexpect.extend(matchers)\n```\n\n```ts\n// In component tests:\nconst { container } = render(jsx)\nexpect(container).toHaveNoViolations()\n```\n\nAdd to: Home page test, Blog page test, Likes page test.","acceptance_criteria":"- vitest-axe installed as dev dependency\n- Matchers extended in vitest.setup.ts\n- At least Home, Blog, and Likes page tests include toHaveNoViolations()\n- npm run test passes with axe checks\n- Any violations found are either fixed or documented as known issues","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T14:12:16.889302-05:00","updated_at":"2025-12-21T17:45:31.457035-05:00","closed_at":"2025-12-21T17:45:31.457035-05:00","close_reason":"vitest-axe installed and configured, a11y tests added to Home, Blog, individual blog posts, and Likes pages - all tests passing with no violations","dependencies":[{"issue_id":"META-160","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.94008-05:00","created_by":"daemon"}]}
{"id":"META-16n","title":"Publish mu-next-16 to michaeluloth.com","description":"","design":"## Goal\nPublish the new Next.js 16 site to michaeluloth.com via Cloudflare Pages and disable old Netlify deployments.\n\n## Steps\n1. Get DNS records from Cloudflare Pages custom domain setup\n2. Update DNS at Hover to point to Cloudflare Pages\n3. Wait for DNS propagation and SSL provisioning\n4. Verify new site is live at michaeluloth.com\n5. Disable GitHub Actions in old repo (michaeluloth.com)\n6. Archive old Netlify site\n7. Validate all critical pages work (blog posts, /likes, /rss.xml, etc.)\n\n## Non-Goals\n- Email migration (separate task for later)\n- Domain transfer to Cloudflare (separate task for later)\n\n## Success Criteria\n- michaeluloth.com loads new Next.js site\n- www.michaeluloth.com redirects properly\n- Old Netlify deployments are stopped\n- Old GitHub Actions are disabled\n- All critical pages tested and working","notes":"## Current Status (as of 2025-12-24)\n\nSITE IS LIVE at https://michaeluloth.com ✅\n\n### Completed\n- Domain added to Cloudflare DNS\n- Nameservers updated at Hover (cruz/marty.ns.cloudflare.com)\n- Custom domains added to Cloudflare Pages\n- DNS records updated (old Netlify IPs → michaeluloth.pages.dev)\n- Site deployed and working\n- Lighthouse threshold lowered to 0.90 (commit d590658)\n\n### In Progress\n- Waiting for GitHub Actions build to complete with new Lighthouse threshold\n- Favicon will deploy after build succeeds (~10 minutes)\n\n### Pending Tasks\n- META-16n.4: Disable GitHub Actions in old michaeluloth.com repo\n- META-16n.5: Archive old Netlify site\n- META-16n.6: Final validation of all pages\n\n### Known Issues (Non-Blocking)\n1. Favicon: Still shows old Next.js logo (browser cache + deployment pending)\n   - New favicon exists in app/icon.svg, public/favicon.ico, public/apple-touch-icon.png\n   - Last deployment failed at Lighthouse (performance 0.95 too strict)\n   - Current deployment should succeed with 0.90 threshold\n   \n2. SSL Certificate: Working but may need browser hard refresh (Cmd+Shift+R)\n   - curl shows HTTP/2 (SSL is active)\n   - User may not see green padlock due to browser cache\n   \n3. www subdomain: Doesn't redirect to root domain (optional enhancement)\n   - www.michaeluloth.com loads site correctly\n   - Could add Cloudflare redirect rule later if desired\n\n### Future Tasks (Not Blocking)\n- Email migration to Gmail/Cloudflare Email Routing (user wants to do later)\n- Domain registration transfer to Cloudflare (user wants to do later)\n- Add www → root redirect rule (optional)\n- Fix any Lighthouse performance issues that come up","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-24T09:29:36.222243-05:00","updated_at":"2025-12-24T19:42:03.297638-05:00","closed_at":"2025-12-24T19:42:03.297638-05:00","close_reason":"Site successfully deployed to michaeluloth.com via Cloudflare Pages. All cleanup tasks complete:\n- DNS migrated to Cloudflare\n- Custom domain configured and SSL working\n- All critical pages validated (RSS, sitemap, blog posts)\n- Old Netlify site archived (domain removed, kept for reference)\n- Publishing workflows disabled in old repos (michaeluloth.com, content)\n- Pushover notifications configured for CI\n\nNon-goals deferred as planned:\n- Email migration (future task)\n- Domain transfer to Cloudflare (future task)\n- www→root redirect (optional enhancement)"}
{"id":"META-16n.1","title":"Add custom domain in Cloudflare Pages and get DNS records","description":"","design":"UPDATED APPROACH: Cloudflare Pages requires domain to use Cloudflare DNS\n\n1. Add domain to Cloudflare DNS management (not registration transfer)\n   - Cloudflare Dashboard → Websites → Add a site\n   - Enter: michaeluloth.com\n   - Choose Free plan\n   - Cloudflare will scan existing DNS records\n\n2. Review DNS records\n   - Cloudflare imports existing records from Hover\n   - Verify all records are present (email MX records especially)\n   - Add any missing records manually\n\n3. Get Cloudflare nameservers\n   - Cloudflare shows 2 nameservers (e.g., amber.ns.cloudflare.com)\n   - Copy these for next step\n\nThis does NOT transfer domain registration - just DNS management.\nDomain stays registered at Hover, email stays at Hover.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:29:59.028689-05:00","updated_at":"2025-12-24T09:59:19.179699-05:00","closed_at":"2025-12-24T09:59:19.179699-05:00","close_reason":"Added michaeluloth.com to Cloudflare DNS, reviewed records, fixed DKIM records to DNS-only. Got nameservers: cruz.ns.cloudflare.com and marty.ns.cloudflare.com","dependencies":[{"issue_id":"META-16n.1","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:29:59.039288-05:00","created_by":"daemon"}]}
{"id":"META-16n.2","title":"Update nameservers at Hover to point to Cloudflare DNS","description":"","design":"Using nameservers from previous task:\n\n1. Go to Hover → Domain → michaeluloth.com → Nameservers\n2. Click 'Edit nameservers'\n3. Change from Hover nameservers to Cloudflare nameservers\n   - Enter the 2 Cloudflare nameservers (from previous task)\n   - Example: amber.ns.cloudflare.com, chuck.ns.cloudflare.com\n4. Save changes\n\n⏱ Nameserver propagation: 15 minutes - 24 hours (usually ~30-60 min)\n\n⚠️ IMPORTANT: Email will continue working during this change\n   - Hover Email uses MX records (not nameservers)\n   - Cloudflare imports MX records automatically\n   - No email downtime expected","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:30:00.778885-05:00","updated_at":"2025-12-24T10:01:55.769798-05:00","closed_at":"2025-12-24T10:01:55.769798-05:00","close_reason":"Updated nameservers at Hover from ns1/ns2.hover.com to cruz/marty.ns.cloudflare.com. Waiting for propagation.","dependencies":[{"issue_id":"META-16n.2","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:30:00.781184-05:00","created_by":"daemon"}]}
{"id":"META-16n.3","title":"Verify new site is live and SSL works","description":"","design":"After custom domain is added to Pages (task META-16n.7):\n\nWait for SSL certificate to provision, then verify:\n\nTests:\n- [ ] Visit https://michaeluloth.com → loads new Next.js site\n- [ ] Visit https://www.michaeluloth.com → redirects to https://michaeluloth.com\n- [ ] SSL certificate is valid (no browser warnings)\n- [ ] Check DNS propagation: dig michaeluloth.com or https://dnschecker.org\n\nExpected results:\n- Both URLs load new site\n- Green padlock (valid SSL)\n- No Netlify branding/old site visible\n\nIf any issues, check:\n- Cloudflare DNS records for michaeluloth.com\n- SSL certificate status in Pages dashboard","notes":"MOSTLY COMPLETE - waiting on:\n\n1. Favicon verification (pending deployment)\n   - Deployment in progress with Lighthouse 0.90 threshold\n   - Should complete in ~10 minutes\n   - User can check: curl -I https://michaeluloth.com/icon.svg (should be 200 not 404)\n   \n2. SSL green padlock\n   - SSL is working (confirmed via curl HTTP/2)\n   - User may need hard refresh: Cmd+Shift+R\n   - Check Cloudflare: SSL/TLS → Edge Certificates\n\nAlready verified working:\n✅ michaeluloth.com loads new Next.js site\n✅ www.michaeluloth.com loads new site (no redirect, but that's OK)\n✅ No security warnings\n✅ Home page loads\n✅ Blog post loads (/git-ignore-tracked-files/)\n✅ /blog/ loads\n✅ /likes/ loads (quickly!)\n✅ Custom 404 page works (/foo redirects correctly)\n\nMinor issue (non-blocking):\n- www doesn't redirect to root (both work, just no redirect)\n- Can add Cloudflare redirect rule later if desired","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:30:02.924626-05:00","updated_at":"2025-12-24T18:36:52.022931-05:00","closed_at":"2025-12-24T18:36:52.022931-05:00","close_reason":"Verified site is live: RSS feed working (37 posts), sitemap working (40 URLs), favicon deployed, SSL working, all critical pages tested","dependencies":[{"issue_id":"META-16n.3","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:30:02.926553-05:00","created_by":"daemon"}]}
{"id":"META-16n.4","title":"Disable GitHub Actions in old michaeluloth.com repo","description":"","design":"In ooloth/michaeluloth.com repository:\n\n```bash\ncd /path/to/michaeluloth.com\ngit checkout main\nmkdir -p .github/workflows-disabled\ngit mv .github/workflows/rebuild-and-publish-to-netlify.yaml .github/workflows-disabled/\ngit mv .github/workflows/ci.yaml .github/workflows-disabled/\ngit commit -m \"Disable auto-deploy - site migrated to mu-next-16\"\ngit push\n```\n\nThis prevents accidental Netlify deployments","notes":"Old repo location: https://github.com/ooloth/michaeluloth.com\n\nSteps:\n1. Clone or cd to old repo\n2. Disable workflows:\n   git checkout main\n   mkdir -p .github/workflows-disabled\n   git mv .github/workflows/rebuild-and-publish-to-netlify.yaml .github/workflows-disabled/\n   git mv .github/workflows/ci.yaml .github/workflows-disabled/\n   git commit -m \"Disable auto-deploy - site migrated to mu-next-16\"\n   git push\n\nThis prevents accidental Netlify deployments from old repo.\n\nOptional: Archive repo entirely after this\n- Go to repo settings → Archive this repository\n- Makes repo read-only with 'Archived' badge","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:30:05.072271-05:00","updated_at":"2025-12-24T19:38:30.631188-05:00","closed_at":"2025-12-24T19:38:30.631188-05:00","close_reason":"Disabled publishing workflow in old michaeluloth.com repo by moving it to workflows-disabled/ folder. Kept CI workflow active for future reference.","dependencies":[{"issue_id":"META-16n.4","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:30:05.07519-05:00","created_by":"daemon"}]}
{"id":"META-16n.5","title":"Archive old Netlify site","description":"","design":"In Netlify Dashboard:\n1. Find the michaeluloth.com site\n2. Go to Site settings → General → Danger zone\n3. Click 'Archive site'\n4. Confirm archival\n\nThis prevents:\n- Accidental deployments\n- Build minute consumption\n- Configuration drift\n\nNote: Can unarchive later if needed","notes":"Netlify site: michaeluloth.com (exact name unknown - search in Netlify dashboard)\n\nSteps:\n1. Go to Netlify dashboard\n2. Find michaeluloth.com site\n3. Site settings → Build \u0026 deploy → Stop auto publishing\n   OR\n4. Site settings → General → Danger zone → Archive site\n\nArchiving is preferred:\n- Prevents accidental deployments\n- Saves build minutes\n- Site can be unarchived later if needed\n\nSite was previously deployed via GitHub Actions from ooloth/michaeluloth.com repo\n- Used Netlify CLI for deployment\n- Triggered on every push to main","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:30:06.534124-05:00","updated_at":"2025-12-24T19:41:41.859489-05:00","closed_at":"2025-12-24T19:41:41.859489-05:00","close_reason":"Removed michaeluloth.com from Netlify site's custom domains. Site kept on netlify subdomain for reference. Builds were already stopped, and publishing workflow is now disabled, so no new deploys possible.","dependencies":[{"issue_id":"META-16n.5","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:30:06.536571-05:00","created_by":"daemon"}]}
{"id":"META-16n.6","title":"Validate all critical pages work","description":"","design":"Test the following URLs on live site:\n\nCore pages:\n- [ ] https://michaeluloth.com/ (home)\n- [ ] https://michaeluloth.com/blog/ (blog index)\n- [ ] https://michaeluloth.com/likes/ (likes page)\n\nInfrastructure:\n- [ ] https://michaeluloth.com/rss.xml (RSS feed)\n- [ ] https://michaeluloth.com/sitemap.xml (sitemap)\n- [ ] https://michaeluloth.com/robots.txt (robots)\n\nSample blog posts (test 2-3):\n- [ ] Recent post works\n- [ ] Old post works\n- [ ] Post with images works\n\nFavicon:\n- [ ] Favicon shows in browser tab\n\nAll should load with no errors and display correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:30:07.755707-05:00","updated_at":"2025-12-24T18:36:59.046892-05:00","closed_at":"2025-12-24T18:36:59.046892-05:00","close_reason":"Validated all critical pages: homepage, /blog/, sample posts, /likes/, RSS feed (37 posts with full content), sitemap (40 URLs with correct structure)","dependencies":[{"issue_id":"META-16n.6","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:30:07.757771-05:00","created_by":"daemon"}]}
{"id":"META-16n.7","title":"Add custom domain to Cloudflare Pages project","description":"","design":"After nameservers have propagated (task META-16n.2):\n\n1. Go to Cloudflare Dashboard → Pages → michaeluloth project\n2. Click 'Custom domains' tab\n3. Click 'Set up a custom domain'\n4. Add: michaeluloth.com\n   - Cloudflare will automatically create DNS records\n5. Add: www.michaeluloth.com\n   - Cloudflare will automatically create DNS records\n6. Wait for SSL certificate provisioning (~15 minutes)\n\nNote: This step only works after nameservers are updated","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T09:34:39.228558-05:00","updated_at":"2025-12-24T10:15:59.533075-05:00","closed_at":"2025-12-24T10:15:59.533075-05:00","close_reason":"Added michaeluloth.com and www.michaeluloth.com as custom domains to Cloudflare Pages. DNS records updated, SSL provisioned. Site is live!","dependencies":[{"issue_id":"META-16n.7","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T09:34:39.236471-05:00","created_by":"daemon"}]}
{"id":"META-16n.8","title":"Disable GitHub Actions in ooloth/content repo","description":"","design":"The old content repo (https://github.com/ooloth/content) has workflows that redeploy the old Netlify site when content changes.\n\nNeed to disable these workflows to prevent unnecessary deployments to the old site.\n\nSteps:\n1. Go to https://github.com/ooloth/content\n2. Move .github/workflows/ to .github/workflows-disabled/ \n3. Commit and push the change\n\nThis is separate from META-16n.4 which handles the old michaeluloth.com repo.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T18:45:33.649924-05:00","updated_at":"2025-12-24T19:32:29.825786-05:00","closed_at":"2025-12-24T19:32:29.825786-05:00","close_reason":"Renamed .github/workflows/ to .github/workflows-disabled/ in ooloth/content repo to prevent auto-deployment on content changes","dependencies":[{"issue_id":"META-16n.8","depends_on_id":"META-16n","type":"parent-child","created_at":"2025-12-24T18:45:33.650523-05:00","created_by":"daemon"}]}
{"id":"META-1xk","title":"Enhance validate-metadata.ts error output with fix suggestions","description":"Add to error messages: (1) file path being validated, (2) exact fix with code example, (3) Next.js docs link, (4) grep hint for source code. Example: show which component file to edit and what metadata to add.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:31.57206-05:00","updated_at":"2025-12-25T14:17:04.002963-05:00","closed_at":"2025-12-25T14:17:04.002963-05:00","close_reason":"Won't do: Metadata validation failures are rare, and current error messages already clearly indicate which tag is missing on which page. Additional code examples and docs links add noise without clear benefit.","labels":["dx","validation"]}
{"id":"META-2iy","title":"Fix Pushover notifications to report actual build status","description":"","design":"**Bug**: Pushover always sends 'Job status: success' even when builds fail\n\n**Root cause**: \n- Line 196 uses `job.status` which reports notify job's status (always success with `if: always()`)\n- GitHub action doesn't support custom messages (pushover-message/pushover-url params are invalid)\n- Detailed failure messages (lines 169-192) are ignored\n\n**Approved approach**:\n- Replace GitHub action with direct curl to Pushover API\n- Use existing message logic (lines 169-192)\n- Add validation to ensure message is set correctly\n\n**Success criteria**:\n- Failures send specific error messages (e.g., '❌ Formatting check failed')\n- Success sends '✅ michaeluloth.com deployed successfully'\n- URL included for failures, pointing to failed workflow run\n- Validation ensures message is never empty","notes":"Implemented complete TypeScript solution with proper architecture, then reorganized all CI scripts.\n\n**Final Structure:**\n```\nci/\n  config.ts                              - Shared CI constants\n  lighthouse/\n    generate-urls.ts + test              - Dynamic URL generation\n    parse-errors.ts + test               - Detailed error reporting\n    urls.json                            - Generated URLs (runtime data)\n  metadata/\n    validate.ts + test                   - OG/Twitter card validation\n  notifications/\n    determine-build-notification.ts + test  - GitHub Actions logic\n    notify-build-status.ts + test           - CLI notification script\n```\n\n**Created:**\n- io/pushover/types.ts - TypeScript interfaces\n- io/pushover/client.ts - Pushover API client\n- io/pushover/send-notification.ts + test - API implementation (8 tests)\n- io/cloudflare/deploy-production-check.sh - Cloudflare deployment safety\n- ci/config.ts - Shared CI validation constants\n\n**Reorganized:**\n- validation/ → ci/lighthouse/ + ci/metadata/\n- io/github/ → ci/notifications/\n- Removed generic validation/ and scripts/ directories\n- All CI scripts now in domain-specific ci/ subdirectories\n\n**Updated:**\n- .github/workflows/ci.yml - Updated all script paths\n- io/env/env.ts - Added PUSHOVER_API_TOKEN + PUSHOVER_USER_KEY\n- io/env/env.test.ts - Added Pushover env vars (31 test cases)\n- .env.example - Added Pushover vars\n- package.json - Updated script paths\n- lighthouserc.cjs - Updated URL path\n\n**Test Results:**\n- All 632 tests pass ✅ (42 new notification tests)\n- Workflow YAML syntax validated ✅\n- Prettier formatting passed ✅\n- 100% test coverage of exported functions\n\n**Architecture improvements:**\n- Domain-driven organization (lighthouse, metadata, notifications)\n- CI-specific code separated from runtime code (io/, app/, ui/)\n- Clear ownership by domain\n- Type-safe TypeScript throughout\n- Pure functions with comprehensive tests\n- Reusable Pushover client for future use","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T11:18:57.953179-05:00","updated_at":"2025-12-25T10:36:05.368905-05:00","closed_at":"2025-12-25T10:36:05.368905-05:00","close_reason":"Complete Pushover notification implementation with TypeScript client and CI integration"}
{"id":"META-3w0","title":"Polish Cloudflare deployment branch before merge","description":"","design":"Five improvements from optimization review:\n\n1. Remove commented dynamicParams code in app/(prose)/[slug]/page.tsx:132-133\n   - Either delete or add explanatory comment\n\n2. Simplify CI notification logic in .github/workflows/ci.yml:180-191\n   - Extract to separate step or use if/elif pattern\n   - Current nested ternaries hard to verify\n\n3. Document retry behavior in README.md\n   - Add details: 3 retries, 2s initial delay, exponential backoff, network/timeout errors only\n\n4. Improve error detection in utils/retry.ts:44-62\n   - Consider checking error types/codes instead of string matching where possible\n\n5. Complete env documentation in README.md\n   - Add missing CLOUDINARY_* and PUSHOVER_* vars to match .env.example","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:27:28.076504-05:00","updated_at":"2025-12-23T14:35:31.494908-05:00","closed_at":"2025-12-23T14:35:31.494908-05:00","close_reason":"Completed all polish improvements:\n1. ✅ Removed commented dynamicParams code (app/(prose)/[slug]/page.tsx)\n2. ⏭️  Skipped CI notification simplification (original was clearer)\n3. ✅ Enhanced README retry documentation with full config details\n4. ✅ Added explanatory comments to retry error detection logic\n5. ✅ Completed env var documentation in README (Cloudinary + Pushover)\n\nAll changes tested and committed."}
{"id":"META-58u","title":"Extract validation config to shared config file","description":"Move hardcoded constants (SITE_URL, REQUIRED_*_TAGS, EXCLUDE_DIRS) from both validation scripts to validation/config.ts. Consider sourcing SITE_URL from env or build config.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:34.575045-05:00","updated_at":"2025-12-22T10:56:08.41694-05:00","closed_at":"2025-12-22T10:56:08.41694-05:00","close_reason":"Extracted shared constants to validation/config.ts. SITE_URL imported directly from utils/metadata.ts for single source of truth.","labels":["refactor","validation"]}
{"id":"META-5je","title":"Enhance parse-lighthouse-errors.ts output with grouped fixes","description":"Restructure output: (1) summary of all issues upfront, (2) group by fix strategy not page, (3) actionable how-to-fix steps, (4) example code for each fix, (5) docs links. Make it trivial to batch fix all instances of same issue.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:33.342853-05:00","updated_at":"2025-12-25T14:16:51.721074-05:00","closed_at":"2025-12-25T14:16:51.721074-05:00","close_reason":"Won't do: Current greppable output (GREP FOR: ...) already enables batch fixing. Grouping by fix strategy adds complexity without meaningful debugging benefit.","labels":["dx","validation"]}
{"id":"META-5nf","title":"Add Lighthouse CI for automated a11y, performance, and SEO checks","description":"Add Lighthouse CI to the build process to automatically catch contrast failures, performance issues, and SEO problems. Runs against the static export.\n\nSetup:\n1. Install @lhci/cli as dev dependency\n2. Add lighthouserc.js config\n3. Add npm script for local runs\n4. Add GitHub Action for CI\n\nThis ensures contrast and other a11y issues are caught automatically on every PR.","design":"## Implementation\n\n### 1. Install dependency\n```bash\nnpm install -D @lhci/cli\n```\n\n### 2. Create lighthouserc.js\nUse `staticDistDir` to automatically discover all HTML files in the static export:\n```js\nmodule.exports = {\n  ci: {\n    collect: {\n      staticDistDir: './out',\n      // No explicit URLs needed - discovers all HTML files\n    },\n    assert: {\n      assertions: {\n        'categories:accessibility': ['error', { minScore: 0.9 }],\n        'categories:performance': ['warn', { minScore: 0.8 }],\n        'categories:seo': ['warn', { minScore: 0.9 }],\n      },\n    },\n    upload: { target: 'temporary-public-storage' },\n  },\n};\n```\n\n### 3. Add npm script\n```json\n\"lighthouse\": \"lhci autorun\"\n```\n\n### 4. Create .github/workflows/lighthouse.yml\nRun on PRs after build completes.\n\n## Files\n- package.json (script + dependency)\n- lighthouserc.js (new)\n- .github/workflows/lighthouse.yml (new)\n\n## Testing\n```bash\nnpm run build \u0026\u0026 npm run lighthouse\n```","acceptance_criteria":"- @lhci/cli installed as dev dependency\n- lighthouserc.js configured for static export (out/ directory)\n- npm run lighthouse script works locally\n- GitHub Action runs Lighthouse on PRs\n- Contrast failures cause CI to fail (a11y score threshold)\n- Performance, SEO, best practices scores visible","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T14:34:10.991579-05:00","updated_at":"2025-12-25T10:37:00.251159-05:00","closed_at":"2025-12-25T10:37:00.251159-05:00","close_reason":"Lighthouse CI fully implemented with dynamic URLs, CI integration, and comprehensive assertions","dependencies":[{"issue_id":"META-5nf","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:34:27.815182-05:00","created_by":"daemon"}]}
{"id":"META-64r","title":"Add automated metadata validation/testing","description":"Create automated validation for social sharing metadata to replace manual checking via metatags.io, Twitter card validator, etc.\n\n**IMPORTANT: This should NOT be vitest-based tests. Use browser automation (Playwright) to validate what users will actually see when sharing links on Twitter, LinkedIn, etc.**\n\nOptions to explore:\n1. Playwright tests that render pages in actual browser and validate metadata tags in the rendered DOM\n2. Playwright tests that capture screenshots of social preview cards\n3. Integration with Open Graph debugger APIs if available\n4. Schema validation for JSON-LD structured data in rendered pages\n\nRequirements:\n- Validate all pages have required OG tags (og:title, og:description, og:image, og:url) in rendered HTML\n- Validate Twitter card tags (twitter:card, twitter:title, twitter:description, twitter:image) in rendered HTML\n- Validate image URLs are accessible and have correct dimensions (1200x630 for OG images)\n- Validate JSON-LD schema correctness in rendered pages\n- Fail build on missing/invalid metadata\n\nGoal: Catch metadata issues at build time by validating the actual rendered output, not just the Next.js metadata API output.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-20T21:10:37.66262-05:00","updated_at":"2025-12-20T21:19:46.260153-05:00","closed_at":"2025-12-20T21:19:46.260153-05:00","close_reason":"Deprioritized - will implement later with browser-based validation (Playwright) instead of vitest. Updated description to clarify approach.","dependencies":[{"issue_id":"META-64r","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-20T21:10:45.462965-05:00","created_by":"daemon"},{"issue_id":"META-64r","depends_on_id":"META-r0u","type":"blocks","created_at":"2025-12-20T21:10:45.489372-05:00","created_by":"daemon"},{"issue_id":"META-64r","depends_on_id":"META-9gb","type":"blocks","created_at":"2025-12-20T21:10:45.511877-05:00","created_by":"daemon"}]}
{"id":"META-84g","title":"Create shared metadata constants","description":"Create `utils/metadata.ts` with:\n- SITE_NAME, SITE_DESCRIPTION, SITE_AUTHOR constants\n- DEFAULT_OG_IMAGE path\n- Reuse existing SITE_URL from constants.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:49:38.505975-05:00","updated_at":"2025-12-20T20:51:24.399216-05:00","closed_at":"2025-12-20T20:51:24.399216-05:00","close_reason":"Completed","dependencies":[{"issue_id":"META-84g","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-18T23:49:55.169926-05:00","created_by":"daemon"}]}
{"id":"META-86l","title":"Add focus-visible styles to error page retry button","description":"Button in app/likes/error.tsx:18-21 has hover state but no focus styles. Add focus-visible styles for keyboard accessibility.","acceptance_criteria":"- Retry button has visible focus state matching hover state styling\n- Keyboard users see clear focus indicator when tabbing to button","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:12:16.557724-05:00","updated_at":"2025-12-21T14:45:11.71373-05:00","closed_at":"2025-12-21T14:45:11.71373-05:00","close_reason":"Added focus-visible:bg-accent/90, focus-visible:outline-none, focus-visible:ring-2, and focus-visible:ring-zinc-300 to retry button. Keyboard users now see clear focus indicator matching hover state.","dependencies":[{"issue_id":"META-86l","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.698975-05:00","created_by":"daemon"}]}
{"id":"META-8s4","title":"Assess and remove deprecated CI workflow files","description":"","design":"Current workflow files:\n1. ci.yml (6.8k, Dec 23) - New consolidated workflow\n2. build-validation.yml (2.4k, Dec 22)\n3. checks.yml (1.1k, Dec 22)\n4. claude-code-review.yml (1.8k, Dec 13)\n5. claude.yml (1.9k, Dec 13)\n\nNeed to:\n1. Read each file to understand what it does\n2. Confirm ci.yml is the consolidated replacement\n3. Identify which files are deprecated\n4. Verify ci.yml covers all their functionality\n5. Safe to delete if ci.yml is comprehensive replacement","notes":"Analysis of workflow files:\n\nci.yml (NEW CONSOLIDATED):\n- Runs on: push to main, PRs\n- Jobs: format, lint, typecheck, test, build, metadata, lighthouse, deploy, notify\n- Comprehensive replacement for all code quality and deployment workflows\n\nchecks.yml (DEPRECATED):\n- Jobs: format, lint, typecheck, test\n- ALL covered by ci.yml\n- SAFE TO DELETE ✓\n\nbuild-validation.yml (DEPRECATED):\n- Jobs: build, metadata, lighthouse  \n- ALL covered by ci.yml\n- SAFE TO DELETE ✓\n\nclaude-code-review.yml (KEEP):\n- Different purpose: Automated Claude PR reviews\n- Runs on PR opened/ready_for_review\n- NOT in ci.yml\n\nclaude.yml (KEEP):\n- Different purpose: @claude mention responder\n- Runs on issue/PR comments\n- NOT in ci.yml\n\nDECISION: Delete checks.yml and build-validation.yml","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:09:53.774753-05:00","updated_at":"2025-12-23T16:11:21.873707-05:00","closed_at":"2025-12-23T16:11:21.873707-05:00","close_reason":"Deleted deprecated workflow files:\n- checks.yml (format, lint, typecheck, test - all in ci.yml)\n- build-validation.yml (build, metadata, lighthouse - all in ci.yml)\n\nKept:\n- ci.yml (consolidated workflow for all checks + deployment)\n- claude-code-review.yml (automated PR reviews)\n- claude.yml (@claude mention responder)\n\nAll functionality preserved in ci.yml."}
{"id":"META-94y","title":"Assess remaining PR review feedback","description":"","design":"Three items from @claude's PR review:\n\n1. 404 PAGE ERROR BOUNDARY\n   Review said: 404 page calls async Header/Footer that could fail, users see broken error page\n   User question: Isn't 404 page statically built? Errors = build failure, not runtime error?\n   \n2. WORKFLOW SECRETS EXPOSURE  \n   Review said: Secrets exposed as env vars during build\n   User question: Logs show *** redaction - what's the actual risk? Is 1Password migration urgent?\n   \n3. DEPLOYMENT SCRIPT SAFETY\n   Review said: Add confirmation for production deploy, check git status\n   User question: What scenarios is this trying to prevent?\n\nGOAL: Discuss each item, decide if action needed or can close as non-issue","notes":"FINAL ASSESSMENT after verification:\n\nSCENARIO 1 (Wrong branch): NOT PREVENTED\n- --branch=main is metadata only (doesn't check actual git branch)\n- Could deploy feature-branch tagged as 'main'\n\nSCENARIO 2 (Dirty tree): NOT PREVENTED  \n- Default behavior: Wrangler WARNS but still deploys\n- --commit-dirty=true silences warning\n- Absence of flag = shows warning, still deploys\n\nVERDICT: Reviewer's suggestion has merit!\n- Both scenarios ARE possible with current script\n- Low frequency (manual deploys rare) = low risk\n- But adding checks would prevent real accidents\n\nDECISION OPTIONS:\n1. Add git safety checks (git diff-index --quiet HEAD \u0026\u0026 git branch --show-current == main)\n2. Accept low risk given manual deploys are rare + CI handles normal flow\n3. Document that manual deploy:production is 'use at your own risk'","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T15:57:25.463082-05:00","updated_at":"2025-12-23T16:09:02.292909-05:00","closed_at":"2025-12-23T16:09:02.292909-05:00","close_reason":"Assessed all remaining PR review feedback:\n\n1. 404 ERROR BOUNDARY - Non-issue\n   Static export means errors = build failure, not runtime errors\n   \n2. SECRETS EXPOSURE - Low risk, deferred\n   Logs properly redact with ***\n   Secrets are read-only tokens\n   1Password migration is nice-to-have, not urgent\n   \n3. DEPLOY SCRIPT SAFETY - FIXED\n   Created scripts/deploy-production-check.sh\n   Blocks local deploys on wrong branch or dirty tree\n   Requires confirmation with commit hash\n   \nAll PR feedback now addressed or closed as non-issues."}
{"id":"META-9gb","title":"Add JSON-LD structured data for blog posts","description":"Add Article schema to blog posts:\n- @type: Article\n- headline, description, datePublished, dateModified\n- author Person schema\n- url\n\nAdd via script tag with dangerouslySetInnerHTML in the Post component or page.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:49:40.524604-05:00","updated_at":"2025-12-20T21:16:01.063448-05:00","closed_at":"2025-12-20T21:16:01.063448-05:00","close_reason":"Completed: Added JSON-LD Article schema to blog posts with comprehensive tests","dependencies":[{"issue_id":"META-9gb","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-18T23:49:57.0336-05:00","created_by":"daemon"},{"issue_id":"META-9gb","depends_on_id":"META-caw","type":"blocks","created_at":"2025-12-18T23:50:12.246159-05:00","created_by":"daemon"}]}
{"id":"META-b5s","title":"Add safety checks to deploy:production script","description":"","design":"Requirements:\n\nLOCAL DEPLOYMENT (human running npm run deploy:production):\n- ✅ Check: git working tree is clean (no uncommitted changes)\n- ✅ Check: current branch is main\n- ✅ Prompt: confirmation with commit hash before deploying\n- ❌ Bail if checks fail\n\nCI DEPLOYMENT (GitHub Actions):\n- ✅ Skip all checks (CI env detected)\n- ✅ Deploy directly (current behavior)\n\nImplementation:\n- Create pre-deploy safety script\n- Detect CI via CI env var (GitHub Actions sets this)\n- Use git commands to verify state\n- Add interactive prompt for local use\n- Update package.json deploy:production to run checks first","notes":"Implementation complete and tested:\n\n✓ Created scripts/deploy-production-check.sh\n✓ Updated package.json deploy:production script\n\nTESTS PASSED:\n1. Dirty working tree: ✓ Blocks deployment with helpful message\n2. Wrong branch: ✓ Blocks deployment (tested on redirect-old-pages-to-new-ones)\n\nREMAINING TO TEST:\n3. Clean main branch: Should show confirmation prompt (can test after merge)\n4. CI environment: GitHub Actions should skip checks (will verify on next CI run)\n\nScript correctly:\n- Detects $CI env var to skip checks in GitHub Actions\n- Checks git working tree cleanliness\n- Checks current branch is main\n- Shows commit hash and message before confirmation\n- Requires y/N confirmation for local deploys","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:05:21.796623-05:00","updated_at":"2025-12-23T16:08:50.6786-05:00","closed_at":"2025-12-23T16:08:50.6786-05:00","close_reason":"Added production deployment safety checks:\n\nCreated scripts/deploy-production-check.sh that:\n- Skips all checks in CI ($CI env var detection)\n- For local deploys: verifies clean working tree, verifies main branch, shows commit info, requires y/N confirmation\n- Exits with status 1 if any check fails\n\nUpdated package.json to run checks before build+deploy.\n\nTested and confirmed working for dirty tree and wrong branch scenarios. Clean main confirmation and CI skip will be verified in normal usage."}
{"id":"META-c4g","title":"Create default OG image","description":"Create `public/og-default.png`:\n- 1200x630px image with site branding\n- Used as fallback for pages without custom OG images\n- Simple design: name, maybe tagline, solid background","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-18T23:49:41.062507-05:00","updated_at":"2025-12-20T22:05:41.572231-05:00","closed_at":"2025-12-20T22:05:41.572231-05:00","close_reason":"Completed: Created default OG image (1200x630px) with photo, name, and accent color using satori/sharp generation script","dependencies":[{"issue_id":"META-c4g","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-18T23:49:57.513751-05:00","created_by":"daemon"}]}
{"id":"META-c6a","title":"Improve site metadata for SEO and social sharing","description":"Add comprehensive metadata across the site including OpenGraph, Twitter cards, canonical URLs, and JSON-LD structured data.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-18T23:49:17.544203-05:00","updated_at":"2025-12-20T23:25:54.408667-05:00","closed_at":"2025-12-20T23:25:54.408667-05:00","close_reason":"All metadata work complete: Added comprehensive OG/Twitter metadata across all pages, created default OG image, added JSON-LD structured data, and implemented automated validation in CI. All social platforms (Twitter/X, Facebook, LinkedIn) now fully supported."}
{"id":"META-caw","title":"Add generateMetadata for blog posts","description":"Update `app/(prose)/[slug]/page.tsx` with generateMetadata function:\n- Dynamic title from post.title\n- Description from post.description\n- Canonical URL\n- OpenGraph: type 'article', publishedTime, modifiedTime, authors\n- OG image: use post.featuredImage when available, fall back to default\n- Twitter card with same image logic\n\nAlso clean up commented-out ArticleSeo component.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:49:40.002137-05:00","updated_at":"2025-12-20T21:07:33.751521-05:00","closed_at":"2025-12-20T21:07:33.751521-05:00","close_reason":"Completed","dependencies":[{"issue_id":"META-caw","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-18T23:49:56.562868-05:00","created_by":"daemon"},{"issue_id":"META-caw","depends_on_id":"META-84g","type":"blocks","created_at":"2025-12-18T23:50:11.796443-05:00","created_by":"daemon"}]}
{"id":"META-cgw","title":"Improve type safety in validate-metadata.ts","description":"Replace ValidationError.error string with discriminated union that includes fix suggestions. Add validation that OUT_DIR exists before running. Add runtime check that constants are imported correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:39.674774-05:00","updated_at":"2025-12-22T13:20:23.076061-05:00","closed_at":"2025-12-22T13:20:23.076061-05:00","close_reason":"Added runtime environment validation to validate-metadata.ts: checks SITE_URL, OG_IMAGE_WIDTH/HEIGHT constants, and OUT_DIR existence before running validation","labels":["type-safety","validation"]}
{"id":"META-csp","title":"Add test coverage for ui/ components","description":"","design":"## Goal\nAdd tests for ui/ components with complex logic, conditional rendering, and accessibility features. Currently 28% test coverage (7/25 files) - focusing on highest-value gaps.\n\n## Testing Approach\n- Use vitest + @testing-library/react (established pattern)\n- Query by role/accessible name (not implementation details)\n- Mock external dependencies (getPosts, fetchCloudinaryImageMetadata, etc.)\n- Test user-facing behavior and accessibility\n\n## Components to Test\n\n### High Priority (5)\n1. video.tsx - URL parsing, conditional rendering\n2. image.tsx - Async metadata fetching, responsive images\n3. code.tsx - HTML rendering pipeline, dangerouslySetInnerHTML\n4. heading.tsx - Level validation, margin class detection\n5. primary.tsx - Navigation state, aria-current\n\n### Medium Priority (3)\n6. emoji.tsx - Accessibility, aria-label mapping\n7. paragraph.tsx - Margin class resolution utility\n8. list.tsx - Conditional ul/ol rendering","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-25T20:06:40.333657-05:00","updated_at":"2025-12-25T20:06:40.333657-05:00"}
{"id":"META-csp.1","title":"Add tests for video.tsx","description":"","design":"Test cases:\n- YouTube URL pattern matching (youtube.com/watch, youtu.be, embed formats)\n- YouTube video ID extraction (valid/invalid cases)\n- iframe generation with correct embed URL and sandbox attributes\n- HTML5 video element fallback for non-YouTube URLs\n- Caption handling (with/without captions)\n- Error cases (invalid YouTube URLs should throw)\n- Accessibility (iframe title, video controls)\n\nBug risks: Regex patterns could fail on edge cases, wrong URL format could break embeds","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T20:06:49.788238-05:00","updated_at":"2025-12-25T20:06:49.788238-05:00","dependencies":[{"issue_id":"META-csp.1","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:06:49.790511-05:00","created_by":"daemon"}]}
{"id":"META-csp.2","title":"Add tests for image.tsx","description":"","design":"Test cases:\n- Cloudinary URL validation (catches non-Cloudinary URLs, throws error)\n- Figure/caption rendering (with and without captions)\n- Image attributes (alt, sizes, srcSet, width, height from metadata)\n- Loading priorities (eager/lazy/auto via fetchPriority)\n- CSS class merging (custom styles + defaults)\n- Mock fetchCloudinaryImageMetadata for async metadata\n- Error handling (invalid URLs)\n\nBug risks: Missing alt text, missing metadata could cause image failures, responsive srcSet misconfiguration","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T20:06:59.536665-05:00","updated_at":"2025-12-25T20:06:59.536665-05:00","dependencies":[{"issue_id":"META-csp.2","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:06:59.539932-05:00","created_by":"daemon"}]}
{"id":"META-csp.3","title":"Add tests for code.tsx","description":"","design":"Test cases:\n- Inline vs block code rendering (different HTML structures)\n- Markdown conversion (code blocks with/without language)\n- Meta string handling (for syntax highlighting features)\n- Italic removal (verify font-style:italic is removed, doesn't over-remove)\n- HTML structure (p-tag wrapping for inline, figure/pre/code for block)\n- Language specification (plaintext default, custom languages)\n- Special characters in code (escape handling)\n- dangerouslySetInnerHTML safety (verify no script injection)\n\nBug risks: HTML injection via dangerouslySetInnerHTML, malformed syntax highlighting, italic removal breaking styling","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T20:07:09.1809-05:00","updated_at":"2025-12-25T20:07:09.1809-05:00","dependencies":[{"issue_id":"META-csp.3","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:07:09.183126-05:00","created_by":"daemon"}]}
{"id":"META-csp.4","title":"Add tests for heading.tsx","description":"","design":"Test cases:\n- Heading level validation (1-6 valid, others throw error)\n- Correct typography for each level (text sizes, font weights)\n- Top margin application (different for each level: h1=mt-12, h2=mt-10, etc.)\n- Bottom margin (always mb-0)\n- Custom className margin detection (mt-*, my-* patterns via regex)\n- Margin class precedence (custom wins, default applied only if missing)\n- Edge cases (undefined level, empty children)\n- Class merging (custom classes + default typography)\n\nBug risks: Margin class detection could fail with unusual spacing patterns, invalid heading levels throw errors","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-25T20:07:19.762309-05:00","updated_at":"2025-12-25T20:10:23.415168-05:00","dependencies":[{"issue_id":"META-csp.4","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:07:19.76443-05:00","created_by":"daemon"}]}
{"id":"META-csp.5","title":"Add tests for primary.tsx (navigation)","description":"","design":"Test cases:\n- Renders navigation list with correct items (Home, Blog, Likes)\n- Sets aria-current='page' on current page link\n- Doesn't set aria-current on inactive items\n- Handles blog posts (via isCurrentPage() logic with posts array)\n- Emoji accessibility (Emoji component receives symbol)\n- Navigation ARIA label ('Primary navigation')\n- Link classes applied correctly (link-nav)\n- Mock usePathname() hook for testing different routes\n\nBug risks: aria-current could be wrong if pathname doesn't match post slug format, emoji rendering accessibility","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T20:07:28.970314-05:00","updated_at":"2025-12-25T20:07:28.970314-05:00","dependencies":[{"issue_id":"META-csp.5","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:07:28.97327-05:00","created_by":"daemon"}]}
{"id":"META-csp.6","title":"Add tests for emoji.tsx","description":"","design":"Test cases:\n- aria-label applied correctly (maps symbol to description)\n- Decorative mode (role=presentation, aria-hidden=true)\n- Non-decorative mode (role=img, aria-label visible to screen readers)\n- Symbol rendering (correct emoji appears in output)\n- Default to decorative if not specified\n\nBug risks: Accessibility - missing aria-label or wrong role breaks screen reader experience","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T20:07:41.630804-05:00","updated_at":"2025-12-25T20:07:41.630804-05:00","dependencies":[{"issue_id":"META-csp.6","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:07:41.634038-05:00","created_by":"daemon"}]}
{"id":"META-csp.7","title":"Add tests for paragraph.tsx","description":"","design":"Test cases:\n- Default mt-4 applied when no custom margin\n- Custom margin classes win (mt-*, my-*, mb-* patterns)\n- Regex margin detection (mt-8, my-4, mb-2, etc.)\n- Multiple classes (custom + other classes preserved)\n- Edge cases (no className, empty className)\n- resolveClasses() utility function behavior\n\nBug risks: Regex pattern could fail to detect some margin class formats, margin precedence could be wrong","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T20:07:49.376636-05:00","updated_at":"2025-12-25T20:07:49.376636-05:00","dependencies":[{"issue_id":"META-csp.7","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:07:49.379612-05:00","created_by":"daemon"}]}
{"id":"META-csp.8","title":"Add tests for list.tsx","description":"","design":"Test cases:\n- Renders ul for bulleted lists (type='bulleted')\n- Renders ol for numbered lists (type='numbered')\n- Maps list items correctly (count, order)\n- Rich text children rendering within list items\n- Custom className application\n- Edge cases (empty items array, single item)\n\nBug risks: Wrong list type (ul vs ol) breaks semantic HTML, item ordering could be wrong","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T20:07:56.976489-05:00","updated_at":"2025-12-25T20:07:56.976489-05:00","dependencies":[{"issue_id":"META-csp.8","depends_on_id":"META-csp","type":"parent-child","created_at":"2025-12-25T20:07:56.979201-05:00","created_by":"daemon"}]}
{"id":"META-dlp","title":"Document why custom Lighthouse error parser exists","description":"Improve documentation for validation/parse-lighthouse-errors.ts to explain why we need a custom parser instead of relying on lhci's native output.\n\n1. Enhance the module header comment in validation/parse-lighthouse-errors.ts to explain:\n   - Why this script exists (lhci assert only shows category-level failures, not audit-level details or element-specific info)\n   - What value it adds (greppable attributes like href=\"/rss.xml\" help developers find issues in source code from CI logs)\n   - When to use the escape hatch (developers can run 'npx lhci open' locally to view full HTML reports)\n\n2. Add a usage note about the greppable attributes - clarify they're designed for CI output readability and source code searching\n\n3. Consider whether the greppable attribute extraction is actually being used in practice - if not, document this as potential simplification opportunity for future\n\nNote: Cannot add true comments to package.json (JSON doesn't support comments; only workaround is using '//' keys which is awkward), so all documentation should live in the script module itself.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:42:44.338547-05:00","updated_at":"2025-12-22T18:46:21.824604-05:00","closed_at":"2025-12-22T18:46:21.824604-05:00","close_reason":"Enhanced module header documentation in validation/parse-lighthouse-errors.ts with detailed explanation of why custom parser exists, what value it adds (audit-level details + greppable attributes for CI debugging), escape hatch for local dev (npx lhci open), and maintenance note about potential simplification if attribute extraction proves unused.","labels":["a11y"]}
{"id":"META-dw5","title":"Disable prefetching for /likes/ page to reduce initial payload","description":"","design":"Context: Lighthouse audit shows /likes/ prefetch adds 2.9 MB to initial page load. Most other pages are lightweight text content.\n\nApproach: Modify ui/link.tsx to disable prefetch when href is /likes/ route, keep default viewport-based prefetch for all other pages.\n\nExpected: Lighthouse payload warning should improve, /likes/ only loads when user explicitly navigates to it.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:54:53.524573-05:00","updated_at":"2025-12-25T14:02:29.993034-05:00","closed_at":"2025-12-25T14:02:29.993034-05:00","close_reason":"Disabled viewport-based prefetching for /likes/ page (2.9 MB payload) while keeping default prefetch behavior for lightweight text pages. Uses undefined for prod/dev mode awareness."}
{"id":"META-e3h","title":"Add aria-label to pagination nav","description":"Pagination nav in ui/nav/pagination.tsx:12 has no aria-label, making it indistinguishable from primary navigation for screen readers. Add aria-label=\"Pagination\" or similar.","acceptance_criteria":"- Pagination nav has aria-label=\"Pagination\" or \"Post navigation\"\n- Screen readers can distinguish pagination from primary navigation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T14:12:16.616902-05:00","updated_at":"2025-12-21T14:45:47.123057-05:00","closed_at":"2025-12-21T14:45:47.123057-05:00","close_reason":"Added aria-label=\"Post navigation\" to pagination nav. Screen readers can now distinguish pagination from primary navigation.","dependencies":[{"issue_id":"META-e3h","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.747102-05:00","created_by":"daemon"}]}
{"id":"META-eww","title":"Fix flex_auto typo in post.tsx","description":"Change `className=\"flex_auto\"` to `className=\"flex-auto\"` in app/(prose)/[slug]/ui/post.tsx:16. This is a bug causing the main element not to expand properly in flex container.","acceptance_criteria":"- className changed from \"flex_auto\" to \"flex-auto\"\n- Post pages render with footer pushed to bottom on short content\n- Existing test at app/(prose)/page.test.tsx:102 pattern works for posts too","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-21T14:12:16.295497-05:00","updated_at":"2025-12-21T14:41:27.415361-05:00","closed_at":"2025-12-21T14:41:27.415361-05:00","close_reason":"Fixed typo: className=\"flex_auto\" → className=\"flex-auto\" in post.tsx:16. All tests pass.","dependencies":[{"issue_id":"META-eww","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.572544-05:00","created_by":"daemon"}]}
{"id":"META-fdx","title":"Optimize Lighthouse CI performance","description":"","design":"Current situation:\n- Lighthouse is slowest CI job by far\n- Runs after build (needs artifact download)\n\nQuestions to investigate:\n1. Are 3 runs necessary to avoid flakiness? Is this overall time saver?\n2. Do we need both /404 and /does-not-exist pages?\n3. Other optimization opportunities?\n\nNeed to:\n1. Check lighthouserc.cjs config\n2. Review recent CI run times\n3. Look at what URLs we're testing\n4. Assess value vs time tradeoff\n5. Recommend optimizations","notes":"FINDINGS:\n\nCurrent Performance:\n- Lighthouse: 367 seconds (~6 min)\n- Build: 53 seconds\n- Tests: 43 seconds\n- Lighthouse is 7x slower than build, 8.5x slower than tests\n\nConfiguration:\n- 8 URLs tested (3 static pages, 2 404s, 3 blog posts)\n- Default: 3 runs per URL = 24 total Lighthouse runs\n- Chrome binary cached via puppeteer cache\n\nOPTIMIZATION OPPORTUNITIES:\n\n1. DUPLICATE 404 PAGES (HIGH VALUE)\n   - /404 and /_not-found are IDENTICAL (same MD5 hash)\n   - Testing same page twice = wasted time\n   - Remove one (keep /404 as it's the canonical route)\n   - Savings: ~45 seconds (1/8 of total time)\n\n2. REDUCE RUNS PER URL (MEDIUM VALUE/RISK)\n   - Default: 3 runs to reduce variability\n   - Could reduce to 1 or 2 runs\n   - Tradeoff: Less reliable results (more flakiness)\n   - Lighthouse team recommends 3-5 runs for stability\n   - RISKY: May cause false failures requiring re-runs\n   - Net time savings unclear if we get more flake\n\n3. REDUCE BLOG POST SAMPLES (LOW VALUE)\n   - Currently testing 3 recent posts\n   - Could test 2 or even 1\n   - Savings: ~45-90 seconds\n   - Tradeoff: Less coverage of post templates\n\n4. PARALLEL LIGHTHOUSE RUNS (NOT SUPPORTED)\n   - LHCI runs sequentially by design\n   - Cannot parallelize within same job\n\nRECOMMENDATION:\n1. Remove duplicate 404 page (/_not-found) - easy win\n2. Keep 3 runs per URL - stability worth the time\n3. Keep 3 blog posts - good coverage for 1.5min cost","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:20:54.253303-05:00","updated_at":"2025-12-25T11:25:40.40199-05:00","closed_at":"2025-12-25T11:25:40.40199-05:00","close_reason":"Removed duplicate /_not-found page from Lighthouse testing - saves ~45 seconds per CI run"}
{"id":"META-fwj","title":"perf: optimize homepage profile image sizing","description":"The Cloudinary profile image on homepage is served at full resolution (2883x2058px) but displayed at w-56 (224px). \n\nImplementation approach:\n- Enhance generateResponsiveImageUrls() to accept optional max size cap parameter\n- Currently hard-coded to be optimal for blog posts (bearing DPR in mind)\n- Should allow override for constrained cases like homepage image (224x224px displayed)\n- Update CloudinaryImage call in app/(prose)/page.tsx to pass appropriate max size\n\nCurrent usage: \n- Location: app/(prose)/page.tsx - CloudinaryImage with url ending in michael-landscape.jpg\n- Display size: w-56 aspect-square = 224x224px\n- loading='eager' imageStyles='w-56 aspect-square'\n\nExpected result:\n- srcset generates appropriate sizes for constrained display (e.g., 224w, 448w for 2x displays)\n- Lighthouse says this will save significant bandwidth","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T15:42:03.413756-05:00","updated_at":"2025-12-25T14:02:36.296889-05:00","closed_at":"2025-12-25T14:02:36.296889-05:00","close_reason":"Verified via Lighthouse audit that profile image sizing is no longer an issue. Image scores 1.0 (perfect) on responsive sizing - served at 27 KiB for 224px display, which is appropriate.","labels":["a11y"]}
{"id":"META-gd8","title":"Migrate email and domain registration to Cloudflare","description":"","design":"## Context\nUser has Hover Email (not just forwarding) - actual mailbox with emails stored at Hover.\nDomain michaeluloth.com is registered at Hover.\n\n## Goal\n1. Migrate hello@michaeluloth.com emails from Hover to Gmail\n2. Set up Cloudflare Email Routing to forward to Gmail\n3. Transfer domain registration from Hover to Cloudflare\n\n## CRITICAL: Order Matters\nMUST migrate email BEFORE transferring domain registration.\nHover Email is tied to domain registration - transferring domain away will cancel email service.\n\n## Steps (High Level)\n1. Set up Gmail for custom domain (Google Workspace $6/mo OR Gmail alias via Cloudflare Email Routing)\n2. Export all emails from Hover Email via IMAP to Gmail\n3. Verify all emails migrated successfully\n4. Test sending/receiving via new setup\n5. ONLY AFTER email is migrated: Transfer domain registration to Cloudflare\n6. Cancel Hover Email subscription\n\n## Resources\n- Hover IMAP: mail.hover.com:993 (SSL)\n- Cloudflare Email Routing: Free, unlimited forwarding\n- Domain transfer cost: ~$9.77/year at Cloudflare\n\n## Non-Blocking\nThis is NOT blocking site deployment. Site is already live via Cloudflare DNS.\nThis is just a cleanup/cost-savings task for later.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-24T10:32:30.260475-05:00","updated_at":"2025-12-25T20:01:37.395408-05:00","closed_at":"2025-12-25T20:01:37.395408-05:00","close_reason":"Replaced by META-odg which includes comprehensive test-first migration plan addressing email client requirements and sent mail concerns."}
{"id":"META-gly","title":"Update hardcoded repo references after rename","description":"","design":"Update code references from mu-next-16 to michaeluloth.com:\n1. ci/notifications/determine-build-notification.test.ts - test URL\n2. package.json - package name\n3. Update local git remote\n4. Verify Cloudflare Pages connection","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T19:51:58.582843-05:00","updated_at":"2025-12-25T10:36:06.398893-05:00","closed_at":"2025-12-25T10:36:06.398893-05:00","close_reason":"Updated all repo references from mu-next-16 to michaeluloth.com"}
{"id":"META-j4q","title":"Improve validation error handling with clear exit codes","description":"Define specific exit codes for different failure types (missing files, validation failures, network errors). Stop silently continuing on some errors - make failures visible. Document what each exit code means.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:36.431057-05:00","updated_at":"2025-12-25T14:17:10.620284-05:00","closed_at":"2025-12-25T14:17:10.620284-05:00","close_reason":"Won't do: Exit codes don't change debugging workflow - developers read CI logs regardless. Current text output already clearly indicates failure types (missing files, validation errors, etc.).","labels":["dx","validation"]}
{"id":"META-ns8","title":"Fix contrast issues flagged by Lighthouse CI","description":"After Lighthouse CI is set up (META-5nf), fix any contrast issues it flags.\n\nPre-verified issues (zinc-500: 3.67:1, zinc-600: 2.29:1 fail WCAG AA):\n- syntax-highlighting.css:58 - line numbers\n- globals.css:115 - captions\n- app/likes/error.tsx - error ID\n\nFix by changing to text-zinc-400 (6.91:1 passes AA).","acceptance_criteria":"- Lighthouse CI a11y score passes (no contrast failures)\n- All flagged contrast issues resolved\n- Visual verification styling still looks good","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T14:12:16.750204-05:00","updated_at":"2025-12-25T13:29:14.719434-05:00","closed_at":"2025-12-25T13:29:14.719434-05:00","close_reason":"Resolved by bumping caption contrast and documenting that we don't show code block line numbers (which was the other failing element). Lighthouse CI will catch any future failures if line numbers are added.","dependencies":[{"issue_id":"META-ns8","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.850586-05:00","created_by":"daemon"},{"issue_id":"META-ns8","depends_on_id":"META-5nf","type":"blocks","created_at":"2025-12-21T14:34:27.882908-05:00","created_by":"daemon"}]}
{"id":"META-odg","title":"Migrate email and domain to Cloudflare (test-first approach)","description":"","design":"## Goal\nSave ~$20/year by moving domain from Hover to Cloudflare while maintaining professional email (hello@michaeluloth.com) that works with any mail client.\n\n## Architecture\n\n**Receiving:**\n- Cloudflare Email Routing: hello@michaeluloth.com → michaeluloth@gmail.com (free)\n- All mail stored in Gmail backend (accessible via IMAP)\n\n**Sending:**\n- Third-party SMTP (SMTP2GO free tier: 1,000 emails/month)\n- Properly authenticated - no 'via gmail.com' headers\n- Sent mail auto-saved to Gmail Sent folder via IMAP\n\n**Access:**\n- Any mail client via IMAP (imap.gmail.com) + SMTP (mail.smtp2go.com)\n- Gmail web interface shows all received + sent mail\n- Works on macOS Mail, iOS Mail, any other client\n\n## Critical: Test BEFORE Migration\n\n**Phase 0 - Verify Architecture Works:**\n1. Add Gmail as IMAP account in Apple Mail (if not already)\n2. Create free SMTP2GO account\n3. Configure Apple Mail:\n   - Incoming: imap.gmail.com (existing)\n   - Outgoing: mail.smtp2go.com (new)\n   - From: current email address\n4. Send test email to yourself\n5. Verify sent email appears in Gmail web interface Sent folder\n6. If test fails, STOP and reassess\n7. If test succeeds, proceed with migration\n\n## Migration Timeline (7-10 days)\n\n**Week 1: Email Export**\n1. Export all email from Hover to Apple Mail via IMAP\n2. Verify all folders/years imported correctly\n3. Keep Hover email active during this phase\n\n**Week 2: Domain Transfer**\n4. Unlock domain at Hover, get auth code\n5. Initiate transfer at Cloudflare\n6. Confirm via email (5-7 day transfer window)\n7. Domain locked for 60 days post-transfer\n\n**Week 2-3: Email Configuration**\n8. Set up Cloudflare Email Routing: hello@ → gmail\n9. Set up SMTP2GO account for sending\n10. Configure DNS records at Cloudflare:\n    - Delete Hover MX records\n    - Add Cloudflare Email Routing MX records\n    - Add SPF: v=spf1 include:_spf.mx.cloudflare.net include:_spf.google.com ~all\n    - Add DKIM records from SMTP2GO\n    - Add DMARC: p=none initially\n11. Configure Apple Mail on all devices:\n    - Incoming: imap.gmail.com\n    - Outgoing: mail.smtp2go.com\n    - From: hello@michaeluloth.com\n12. Test sending/receiving from all devices\n13. Monitor for 30 days\n\n**Week 6: Cleanup**\n14. Verify no email issues for 30 days\n15. Cancel Hover domain + email hosting\n\n## Gotchas \u0026 Mitigation\n\n**Email during transfer:**\n- Export ALL email BEFORE domain transfer\n- Keep Hover email paid for 30 days post-transfer (safety net)\n\n**DNS propagation:**\n- 24-48hr window where email might bounce\n- Do transfer on weekend when low email volume expected\n\n**SPF/DKIM/DMARC:**\n- Set DMARC to p=none initially\n- Monitor for spam issues\n- Tighten after 30 days if no problems\n\n**Apple Mail sent folder:**\n- Verify setting: Mail → Settings → Accounts → Mailbox Behaviors → \"Store sent messages on the server\"\n- This ensures sent mail appears in Gmail\n\n**Domain lock:**\n- Can't transfer away from Cloudflare for 60 days post-transfer\n- Plan accordingly if considering other providers\n\n## Cost Analysis\n\n**Before:** Hover domain + email = ~$30/year\n**After:** Cloudflare domain ($10) + SMTP2GO free tier ($0) = $10/year\n**Savings:** $20/year\n\n**Time investment:** 3-5 hours one-time effort\n\n## Rollback Plan\n\nIf things go wrong:\n1. Point MX records back to Hover (if still paid)\n2. Reconfigure Apple Mail to use Hover SMTP\n3. Transfer domain back to Hover after 60-day lock expires\n\n## Success Criteria\n\n- hello@michaeluloth.com continues to work (10-year-old address)\n- All historical email accessible in Gmail\n- Can send from any mail client without 'via gmail.com' headers\n- All sent mail appears in Gmail Sent folder\n- No email lost during migration","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-25T20:01:28.087217-05:00","updated_at":"2025-12-25T20:01:28.087217-05:00"}
{"id":"META-p2q","title":"Add --verbose flag to validation scripts","description":"Add CLI flag to both scripts for detailed debug output. Show what's being validated, progress through steps, timing info. Helpful for debugging CI failures or slow validation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:38.315588-05:00","updated_at":"2025-12-25T14:17:16.493933-05:00","closed_at":"2025-12-25T14:17:16.493933-05:00","close_reason":"Won't do: Scripts already print progress during validation. More verbose output would make CI logs harder to read without clear debugging benefit. No evidence of slow validation needing investigation.","labels":["dx","validation"]}
{"id":"META-pnf","title":"Add focus-visible styles to Likes media links","description":"Media item links in app/likes/page.tsx:80 use raw `\u003ca\u003e` with no focus styling. Add focus-visible styles consistent with Card component.","acceptance_criteria":"- Media links have visible focus state consistent with Card\n- Keyboard navigation shows visible focus when tabbing through media items","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:12:16.464657-05:00","updated_at":"2025-12-21T14:44:40.432063-05:00","closed_at":"2025-12-21T14:44:40.432063-05:00","close_reason":"Added focus-visible:outline-none, focus-visible:ring-2, and focus-visible:ring-zinc-300 to media item links. Keyboard navigation now shows visible focus ring around media items.","dependencies":[{"issue_id":"META-pnf","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.66331-05:00","created_by":"daemon"}]}
{"id":"META-ppg","title":"Add tests for validate-metadata.ts pure functions","description":"Test getExpectedCanonicalUrl, isValidOgImageUrl, hasCorrectCloudinaryDimensions to prevent regressions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:30.426383-05:00","updated_at":"2025-12-22T11:04:45.340012-05:00","closed_at":"2025-12-22T11:04:45.340012-05:00","close_reason":"Added comprehensive test suite for validate-metadata.ts pure functions: 19 tests covering isValidUrl, isValidISODate, getExpectedCanonicalUrl, isValidOgImageUrl, and hasCorrectCloudinaryDimensions","labels":["test","validation"]}
{"id":"META-q4y","title":"Delete unnecessary app/likes/error.tsx","description":"","design":"Context: Likes page is fully static (no dynamic/ISR), all API calls happen at build time via .unwrap(). If build succeeds, page is static HTML. Error boundary can't be triggered in current implementation.\n\nAction: Delete app/likes/error.tsx and verify tests pass.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:36:32.357751-05:00","updated_at":"2025-12-25T13:37:57.693081-05:00","closed_at":"2025-12-25T13:37:57.693081-05:00","close_reason":"Deleted app/likes/error.tsx - unnecessary since page is fully static with no runtime error scenarios."}
{"id":"META-r0u","title":"Add metadata to static pages","description":"Update static pages:\n- `app/(prose)/blog/page.tsx`: Add metadata export with title and description\n- `app/likes/page.tsx`: Simplify to use title template (remove manual suffix)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:49:39.524433-05:00","updated_at":"2025-12-20T21:13:30.789817-05:00","closed_at":"2025-12-20T21:13:30.789817-05:00","close_reason":"Completed: Added metadata exports to blog and likes pages with comprehensive tests","dependencies":[{"issue_id":"META-r0u","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-18T23:49:56.078553-05:00","created_by":"daemon"},{"issue_id":"META-r0u","depends_on_id":"META-xhu","type":"blocks","created_at":"2025-12-18T23:50:11.329502-05:00","created_by":"daemon"}]}
{"id":"META-rbs","title":"lighthouse: test extractFailingAudits and formatPageFailures","description":"Add unit tests for the two main exported functions in parse-lighthouse-errors.ts using minimal mock Lighthouse JSON fixtures. Tests should cover: (1) extractFailingAudits filters failing audits and extracts element details, (2) formatPageFailures includes URL, category scores, audit titles, and greppable attributes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T14:18:13.195217-05:00","updated_at":"2025-12-22T14:30:10.943333-05:00","closed_at":"2025-12-22T14:30:10.943333-05:00","close_reason":"Added 8 unit tests covering extractFailingAudits (4 tests) and formatPageFailures (4 tests) with minimal mock fixtures","labels":["validation"]}
{"id":"META-rk6","title":"lighthouse: skip SEO assertions on 404 pages","description":"Update lighthouserc.cjs to skip SEO category assertions for 404 routes (/404.html, /404/index.html, /_not-found/index.html) while keeping accessibility, performance, and best-practices checks. This is expected behavior - 404 pages should have noindex meta tags.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T15:41:42.12933-05:00","updated_at":"2025-12-22T15:42:27.41656-05:00","closed_at":"2025-12-22T15:42:27.41656-05:00","close_reason":"Added assertMatrix to lighthouserc.cjs to skip SEO assertions for 404 pages (matches .*/(404|_not-found).*) while keeping accessibility, performance, and best-practices checks","labels":["a11y"]}
{"id":"META-sh8","title":"Add focus-visible styles to Card component","description":"Card component (ui/card.tsx) has hover styles but no focus styles. Add focus-visible:border-zinc-300 focus-visible:outline-none (or match the link glow style). Used by pagination links.","design":"```tsx\n// ui/card.tsx - add focus-visible styles:\nclassName=\"... hover:border-zinc-300 focus-visible:border-zinc-300 focus-visible:outline-none\"\n```","acceptance_criteria":"- Card has focus-visible:border-zinc-300 or equivalent visible focus state\n- focus-visible:outline-none to remove browser default\n- Keyboard navigation shows visible focus on pagination cards","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:12:16.406322-05:00","updated_at":"2025-12-21T14:44:15.566601-05:00","closed_at":"2025-12-21T14:44:15.566601-05:00","close_reason":"Added focus-visible:border-zinc-300 and focus-visible:outline-none to Card component. Keyboard navigation now shows visible focus state matching hover style.","dependencies":[{"issue_id":"META-sh8","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.634187-05:00","created_by":"daemon"}]}
{"id":"META-sth","title":"Add prefers-reduced-motion support to loading skeleton","description":"Loading skeleton in app/likes/loading.tsx uses animate-pulse which runs for all users. Add motion-reduce:animate-none to respect user preferences for reduced motion.","design":"```tsx\n// Change from:\nclassName=\"animate-pulse ...\"\n\n// To:\nclassName=\"animate-pulse motion-reduce:animate-none ...\"\n```","acceptance_criteria":"- Loading skeleton elements have motion-reduce:animate-none\n- Users with prefers-reduced-motion see static skeleton instead of pulsing","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T14:12:16.685051-05:00","updated_at":"2025-12-25T13:35:15.205903-05:00","closed_at":"2025-12-25T13:35:15.205903-05:00","close_reason":"Resolved by deleting the loading skeleton entirely - no animations to support reduced-motion for.","dependencies":[{"issue_id":"META-sth","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.796009-05:00","created_by":"daemon"}]}
{"id":"META-trk","title":"lighthouse: document exported pure functions","description":"Add JSDoc @example blocks to extractFailingAudits and formatPageFailures in validation/parse-lighthouse-errors.ts to match the pattern used by extractSearchableAttrs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T14:18:02.761589-05:00","updated_at":"2025-12-22T14:30:09.630095-05:00","closed_at":"2025-12-22T14:30:09.630095-05:00","close_reason":"Added JSDoc @example blocks to extractFailingAudits and formatPageFailures","labels":["validation"]}
{"id":"META-val","title":"Add automated metadata validation/testing","description":"Create automated validation for social sharing metadata to replace manual checking via metatags.io, Twitter card validator, etc.\n\n**IMPORTANT: This should NOT be vitest-based tests. Use browser automation (Playwright) to validate what users will actually see when sharing links on Twitter, LinkedIn, etc.**\n\nOptions to explore:\n1. Playwright tests that render pages in actual browser and validate metadata tags in the rendered DOM\n2. Playwright tests that capture screenshots of social preview cards\n3. Integration with Open Graph debugger APIs if available\n4. Schema validation for JSON-LD structured data in rendered pages\n\nRequirements:\n- Validate all pages have required OG tags (og:title, og:description, og:image, og:url) in rendered HTML\n- Validate Twitter card tags (twitter:card, twitter:title, twitter:description, twitter:image) in rendered HTML\n- Validate image URLs are accessible and have correct dimensions (1200x630 for OG images)\n- Validate JSON-LD schema correctness in rendered pages\n- Fail build on missing/invalid metadata\n\nGoal: Catch metadata issues at build time by validating the actual rendered output, not just the Next.js metadata API output.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-20T21:21:09.650384-05:00","updated_at":"2025-12-20T23:25:48.648652-05:00","closed_at":"2025-12-20T23:25:48.648652-05:00","close_reason":"Validation complete: Implemented automated HTML parsing with Cheerio to validate all OG tags (including og:site_name, og:locale) and Twitter Card tags (including twitter:creator) in rendered build output. Validates image accessibility and dimensions (1200x630). Runs in CI after build. All pages passing validation.","dependencies":[{"issue_id":"META-val","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-20T21:21:09.79859-05:00","created_by":"daemon"}]}
{"id":"META-w4k","title":"Pre-deploy polish: accessibility, focus styles, and CI checks","description":"Full polish pass before deploying portfolio site. Addresses accessibility gaps, focus visibility, contrast issues, and adds automated a11y testing to CI.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-21T14:11:43.114533-05:00","updated_at":"2025-12-25T13:41:08.9595-05:00","closed_at":"2025-12-25T13:41:08.9595-05:00","close_reason":"Completed all pre-deploy polish tasks: accessibility gaps resolved (skip link, focus styles, aria-labels), automated a11y testing added (vitest-axe + Lighthouse CI), contrast issues fixed, and minor cleanup completed."}
{"id":"META-w5f","title":"Remove duplicate @utility bg-accent in globals.css","description":"globals.css has duplicate @utility bg-accent blocks at lines 30-32 and 34-36. Remove the duplicate. Minor cleanup.","acceptance_criteria":"- Only one @utility bg-accent block in globals.css\n- Build still succeeds\n- Accent background color still works","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-21T14:12:16.8157-05:00","updated_at":"2025-12-25T13:40:58.426832-05:00","closed_at":"2025-12-25T13:40:58.426832-05:00","close_reason":"Removed duplicate @utility bg-accent block at lines 34-36 in styles/globals.css","dependencies":[{"issue_id":"META-w5f","depends_on_id":"META-w4k","type":"parent-child","created_at":"2025-12-21T14:12:33.894201-05:00","created_by":"daemon"}]}
{"id":"META-x2t","title":"Add JSDoc examples to validation pure functions","description":"Enhance JSDoc for all pure functions with @example blocks showing actual usage. Document why certain tags are required. Add note about when to run scripts (post-build only).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:36:41.195186-05:00","updated_at":"2025-12-22T13:26:32.172338-05:00","closed_at":"2025-12-22T13:26:32.172338-05:00","close_reason":"Added comprehensive JSDoc documentation with @example blocks to all pure functions in validate-metadata.ts and parse-lighthouse-errors.ts. Added note about post-build execution requirement.","labels":["docs","validation"]}
{"id":"META-xhu","title":"Enhance root layout metadata","description":"Update `app/layout.tsx` with:\n- metadataBase: new URL(SITE_URL)\n- Title template: { default: 'Michael Uloth', template: '%s | Michael Uloth' }\n- authors, creator fields\n- Default OpenGraph config (type: 'website', locale, siteName, images)\n- Default Twitter card config (card: 'summary_large_image', creator: '@ooloth')","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:49:39.011289-05:00","updated_at":"2025-12-20T20:56:36.587689-05:00","closed_at":"2025-12-20T20:56:36.587689-05:00","close_reason":"Completed","dependencies":[{"issue_id":"META-xhu","depends_on_id":"META-c6a","type":"parent-child","created_at":"2025-12-18T23:49:55.635623-05:00","created_by":"daemon"},{"issue_id":"META-xhu","depends_on_id":"META-84g","type":"blocks","created_at":"2025-12-18T23:50:10.889686-05:00","created_by":"daemon"}]}
{"id":"META-xmu","title":"Optimize Lighthouse: test 2 posts (latest + 1 random)","description":"","design":"Current: Lighthouse tests 3 blog posts (likely latest 3 or specific set)\n\nProposed: Test exactly 2 posts each time:\n1. Latest post (always) - ensures brand new posts are prioritized\n2. One other post chosen at random - improves coverage over time\n\nBenefits:\n- Faster CI: 1 fewer page = 3 fewer audits\n- Better coverage: random selection tests different posts over time vs fixed set\n- Latest post always checked: catches issues in new content immediately\n\nImplementation:\n- Update Lighthouse config to select posts dynamically\n- Need to identify where post selection happens (likely in CI workflow or Lighthouse config)\n- Implement random selection logic for second post","acceptance_criteria":"- Lighthouse tests exactly 2 blog posts per run\n- Post 1 is always the most recent post\n- Post 2 is randomly selected from all other posts\n- CI run time reduced (1 fewer page tested)\n- Multiple CI runs over time test different post combinations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T22:16:45.558094-05:00","updated_at":"2025-12-25T12:24:56.916903-05:00","closed_at":"2025-12-25T12:24:56.916903-05:00","close_reason":"Optimized Lighthouse to test 2 posts (latest + 1 random) instead of 3 most recent - saves ~45 seconds per CI run and provides better coverage over time"}
